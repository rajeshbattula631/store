<div class="container">
  <nav class="navbar navbar-expand navbar-dark bg-dark">
    <a href="#" class="navbar-brand">Fruit Store</a>
    <ul class="navbar-nav mr-auto" routerLinkActive="active">
      <li class="nav-item">
        <a href="/home" class="nav-link" routerLink="home">Home </a>
      </li>

      <li class="nav-item">
        <a  class="nav-link" *ngIf="isLoggedIn" routerLink="user">User</a>
      </li>
    </ul>

    <ul class="navbar-nav ml-auto" *ngIf="!isLoggedIn">
      <li class="nav-item">
        <a  class="nav-link" routerLink="register">Sign Up</a>
      </li>
      <li class="nav-item">
        <a  class="nav-link" routerLink="login">Login</a>
      </li>
    </ul>

    <ul class="navbar-nav ml-auto" *ngIf="isLoggedIn">
      <li class="nav-item">
        <a  class="nav-link" routerLink="profile">{{ username }}</a>
      </li>
      <li class="nav-item">
        <a href class="nav-link" (click)="logout()">LogOut</a>
      </li>
    </ul>
  </nav>
  <br/>
  <div *ngIf="isLoggedIn && isTableShow">
    <button (click)="createFruit()" class="btn btn-danger">Create</button>
  </div>
  <br/>
  <div class="panel panel-primary" *ngIf="isLoggedIn && isTableShow">
    <div class="panel-heading">
      <h2>Fruit List</h2>
    </div>
    <div class="panel-body">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Customer Name</th>
            <th>Phone Number</th>
            <th>Item</th>
            <th>Amount</th>
            <th>Balance</th>
            <th>Boxes</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          
          <tr *ngFor="let fruit of fruits ">
            <td>{{fruit.customer_name}}</td>
            <td>{{fruit.customer_phoneNumber}}</td>
            <td>{{fruit.fruit_name}}</td>
            <td>{{fruit.amount}}</td>
            <td>{{fruit.balance_amount}}</td>
            <td>{{fruit.boxCount}}</td>
            <td><button (click)="deleteFruit(fruit.id)" class="btn btn-danger">Delete</button>
                <button (click)="updateFruit(fruit.id)" class="btn btn-info" style="margin-left: 10px">Update</button>
                <button (click)="fruitDetails(fruit.id)" class="btn btn-info" style="margin-left: 10px">Details</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div *ngIf="!isTableShow">
    <h1>Create Sale</h1>
        
    <form [formGroup]="form" (ngSubmit)="submitFruit()">
      
       
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="customer_name">Customer Name:</label>
            <input 
                formControlName="customer_name"
                id="customer_name" 
                type="text" 
                class="form-control">
            <div *ngIf="f.customer_name.touched && f.customer_name.invalid" class="alert alert-danger">
                <div *ngIf="f.customer_name.errors.required">Customer Name is required.</div>
            </div>
        </div>
        <div class="form-group col-md-6">
          <label for="customer_phoneNumber">Phone Number:</label>
            <input 
                formControlName="customer_phoneNumber"
                id="customer_phoneNumber" 
                type="text" 
                class="form-control">
            <div *ngIf="f.customer_phoneNumber.touched && f.customer_phoneNumber.invalid" class="alert alert-danger">
                <div *ngIf="f.customer_phoneNumber.errors.required">Phone Number is required.</div>
            </div>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="fruit_name">Item:</label>
            <input 
                formControlName="fruit_name"
                id="fruit_name" 
                type="text" 
                class="form-control">
            <div *ngIf="f.fruit_name.touched && f.fruit_name.invalid" class="alert alert-danger">
                <div *ngIf="f.fruit_name.errors.required">Item is required.</div>
            </div>
        </div>
        <div class="form-group col-md-6">
          <label for="amount">Amount:</label>
            <input 
                formControlName="amount"
                id="amount" 
                type="text" 
                class="form-control">
            <div *ngIf="f.amount.touched && f.amount.invalid" class="alert alert-danger">
                <div *ngIf="f.amount.errors.required">Amount is required.</div>
            </div>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="balance_amount">Balance:</label>
            <input 
                formControlName="balance_amount"
                id="balance_amount" 
                type="text" 
                class="form-control">
            <!-- <div *ngIf="f.balance_amount.touched && f.balance_amount.invalid" class="alert alert-danger">
                <div *ngIf="f.balance_amount.errors.required">Title is required.</div>
            </div> -->
        </div>
        <div class="form-group col-md-6">
          <label for="boxCount">Boxes:</label>
            <input 
                formControlName="boxCount"
                id="boxCount" 
                type="boxCount" 
                class="form-control">
            <div *ngIf="f.boxCount.touched && f.boxCount.invalid" class="alert alert-danger">
                <div *ngIf="f.boxCount.errors.required">Boxes is required.</div>
            </div>
        </div>
      </div>
        <button class="btn btn-primary" type="submit" [disabled]="!form.valid">Submit</button>
    </form>
</div>
</div>

